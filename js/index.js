!function(){var t="c-indicator-component-visualisation-tab--closed",n="c-indicator-component-visualisation-tabpanel--closed",e=function(e){var r,o,c,i,a=e.dataset.tabgroup;r=a,document.querySelectorAll("[data-tabgroup=".concat(r,'][role="tab"]')).forEach((function(n){n.classList.add(t),n.setAttribute("aria-selected","false"),n.setAttribute("tabindex","-1")})),o=a,c=document.querySelectorAll("[data-tabgroup=".concat(o,'][role="tabpanel"]')),Array.from(c).forEach((function(t){t.classList.add(n),t.setAttribute("aria-hidden","true"),t.querySelectorAll("*").forEach((function(t){t.setAttribute("tabindex","-1")}))})),(i=e).classList.remove(t),i.setAttribute("aria-selected","true"),i.removeAttribute("tabindex"),function(t){var e=t.getAttribute("aria-controls"),r=document.getElementById(e);r.classList.remove(n),r.setAttribute("aria-hidden","false"),r.querySelectorAll("*").forEach((function(t){t.removeAttribute("tabindex")}))}(e)},r=function(t){var n=t.target;e(n)},o=function(t){switch(t.key){case"ArrowRight":document.activeElement.nextElementSibling.focus();break;case"ArrowLeft":document.activeElement.previousElementSibling.focus();break;case"Home":t.preventDefault(),document.activeElement.parentElement.firstElementChild.focus();break;case"End":t.preventDefault(),document.activeElement.parentElement.lastElementChild.focus()}},c=function(t){t.addEventListener("click",r),t.addEventListener("keydown",o)},i=function(t){var n,e,r=t.target,o=r.getAttribute("aria-controls");document.getElementById(o).classList.toggle("c-indicator-component__region--closed"),r.querySelector(".c-indicator-component__icon").classList.toggle("c-indicator-component__icon--closed"),e="aria-expanded","true"===(n=r).getAttribute(e)?n.setAttribute(e,!1):n.setAttribute(e,!0)},a=function(t){t.addEventListener("click",i)};function u(t,n,e,r,o,c,i){try{var a=t[c](i),u=a.value}catch(t){return void e(t)}a.done?n(u):Promise.resolve(u).then(r,o)}function l(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var c=t.apply(n,e);function i(t){u(c,r,o,i,a,"next",t)}function a(t){u(c,r,o,i,a,"throw",t)}i(void 0)}))}}function s(t,n){var e,r,o,c,i=function(t){return function(n){return a([t,n])}},a=function(i){if(e)throw new TypeError("Generator is already executing.");for(;c&&(c=0,i[0]&&(u=0)),u;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=n.call(t,u)}catch(t){i=[6,t],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}},u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}Object.create;Object.create;var f,d="c-radio-button__inner-circle--unchecked",p=(f=l((function(t){return s(this,(function(n){return[2,t.querySelector(".c-radio-button__inner-circle")]}))})),function(t){return f.apply(this,arguments)}),h=function(){var t=l((function(t){return s(this,(function(n){return t.forEach(function(){var t=l((function(t){return s(this,(function(n){switch(n.label){case 0:return[4,p(t)];case 1:return n.sent().classList.add(d),[2]}}))}));return function(n){return t.apply(this,arguments)}}()),[2]}))}));return function(n){return t.apply(this,arguments)}}(),m=function(){var t=l((function(t){return s(this,(function(n){switch(n.label){case 0:return[4,p(t)];case 1:return n.sent().classList.remove(d),[2]}}))}));return function(n){return t.apply(this,arguments)}}(),b=function(){var t=l((function(t){return s(this,(function(n){return h(t),m(t[0]),[2]}))}));return function(n){return t.apply(this,arguments)}}(),v="c-indicator-component-tabpanel--closed",g=function(){var t=l((function(t){return s(this,(function(n){return t.forEach(function(){var t=l((function(t){return s(this,(function(n){return t.classList.add(v),[2]}))}));return function(n){return t.apply(this,arguments)}}()),[2]}))}));return function(n){return t.apply(this,arguments)}}(),y=function(){var t=l((function(t){return s(this,(function(n){return t.classList.remove(v),[2]}))}));return function(n){return t.apply(this,arguments)}}(),E=function(){var t=l((function(t){return s(this,(function(n){return g(t),y(t[0]),[2]}))}));return function(n){return t.apply(this,arguments)}}(),A=function(){var t=l((function(t,n){return s(this,(function(e){return t.forEach(function(){var e=l((function(e){return s(this,(function(r){return e.addEventListener("click",(function(e){h(t),g(n),m(e.target);var r=document.getElementById(e.target.getAttribute("aria-controls"));y(r)})),[2]}))}));return function(t){return e.apply(this,arguments)}}()),[2]}))}));return function(n,e){return t.apply(this,arguments)}}(),L=function(){var t=l((function(t,n){return s(this,(function(e){return b(t),E(n),A(t,n),[2]}))}));return function(n,e){return t.apply(this,arguments)}}();L(document.querySelectorAll(".c-indicator-component-tab"),document.querySelectorAll(".c-indicator-component-tabpanel"));[{toggleClass:"c-navigation__toggle",controlledItemClass:"c-navigation__items"},{toggleClass:"c-dropdown__toggle",controlledItemClass:"c-dropdown__items"},{toggleClass:"c-search__toggle",controlledItemClass:"c-search__form"}].forEach((function(t){var n,e,r,o,c,i;n=t.toggleClass,e=t.controlledItemClass,r=document.querySelectorAll(".".concat(n)),o="".concat(n,"--clicked"),c=document.querySelectorAll(".".concat(e)),i="".concat(e,"--closed"),r.forEach((function(t){var n=t.getAttribute("aria-controls"),e=document.getElementById(n);t.addEventListener("click",(function(){c.forEach((function(t){t===e||t.classList.contains(i)||t.classList.add(i)})),e.classList.toggle(i),r.forEach((function(n){n!==t&&n.classList.contains(o)&&n.classList.remove(o)})),t.classList.toggle(o)}))}))}));var _,w,S,k=document.querySelectorAll("[role=tab]");k.forEach((function(t){return c(t)})),_=k,w="tabgroup",S=Array.from(_).reduce((function(t,n){return(t[n.dataset[w]]=t[n.dataset[w]]||[]).push(n),t}),{}),Object.values(S).forEach((function(t){t.forEach((function(t,n){0===n&&(console.log("initialising tab",t),e(t))}))})),document.querySelectorAll("[id$='component-toggle']").forEach((function(t){return a(t)}))}();
//# sourceMappingURL=index.js.map
